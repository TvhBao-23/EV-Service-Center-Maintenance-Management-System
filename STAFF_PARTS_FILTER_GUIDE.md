# üéØ H∆∞·ªõng D·∫´n Filter Ph·ª• T√πng Cho Nh√¢n Vi√™n (Staff)

## ‚úÖ ƒê√£ C·∫≠p Nh·∫≠t Th√†nh C√¥ng!

Trang **Staff** gi·ªù ƒë√¢y c√≥ th·ªÉ l·ªçc ph·ª• t√πng theo d·ªãch v·ª•, gi·ªëng nh∆∞ trang Customer!

---

## üìç V·ªã Tr√≠ T√≠nh NƒÉng

**URL:** `http://localhost:3000/staff`  
**Tab:** üîß Ph·ª• t√πng  
**Dropdown:** "L·ªçc ph·ª• t√πng theo d·ªãch v·ª•"

---

## üé® Giao Di·ªán M·ªõi

### Tr∆∞·ªõc Khi Ch·ªçn D·ªãch V·ª•
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Qu·∫£n l√Ω Ph·ª• t√πng                                            ‚îÇ
‚îÇ Hi·ªÉn th·ªã: 24 ph·ª• t√πng | Y√™u c·∫ßu ch·ªù x·ª≠ l√Ω: 0               ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                             ‚îÇ
‚îÇ üéØ L·ªçc ph·ª• t√πng theo d·ªãch v·ª•                               ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê‚îÇ
‚îÇ ‚îÇ T·∫•t c·∫£ ph·ª• t√πng (kh√¥ng l·ªçc)                        ‚ñº   ‚îÇ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò‚îÇ
‚îÇ                                                             ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ M√£ PT        | T√™n ph·ª• t√πng              | Danh m·ª•c | ...  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ BAT-LI-001   | Pin Lithium-Ion 60kWh     | Battery  | ...  ‚îÇ
‚îÇ BAT-LI-002   | Pin Lithium-Ion 75kWh     | Battery  | ...  ‚îÇ
‚îÇ CHG-PORT-001 | C·ªïng S·∫°c Type 2           | Charging | ...  ‚îÇ
‚îÇ ...          | (t·ªïng 24 ph·ª• t√πng)        |          | ...  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Sau Khi Ch·ªçn "S·ª≠a ch·ªØa h·ªá th·ªëng s·∫°c"
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Qu·∫£n l√Ω Ph·ª• t√πng                                            ‚îÇ
‚îÇ Hi·ªÉn th·ªã: 8 ph·ª• t√πng | Y√™u c·∫ßu ch·ªù x·ª≠ l√Ω: 0                ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                             ‚îÇ
‚îÇ üéØ L·ªçc ph·ª• t√πng theo d·ªãch v·ª•                               ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê‚îÇ
‚îÇ ‚îÇ S·ª≠a ch·ªØa h·ªá th·ªëng s·∫°c                              ‚ñº   ‚îÇ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò‚îÇ
‚îÇ üí° ƒêang hi·ªÉn th·ªã 8 ph·ª• t√πng ph√π h·ª£p v·ªõi d·ªãch v·ª• ƒë√£ ch·ªçn    ‚îÇ
‚îÇ                                                             ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ M√£ PT        | T√™n ph·ª• t√πng              | Danh m·ª•c | ...  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ CHG-PORT-001 | C·ªïng S·∫°c Type 2           | Charging | ...  ‚îÇ
‚îÇ CHG-CABLE-001| D√¢y S·∫°c Type 2 - 5m       | Charging | ...  ‚îÇ
‚îÇ CHG-ONBOARD-001| B·ªô S·∫°c Onboard 11kW     | Charging | ...  ‚îÇ
‚îÇ ...          | (ch·ªâ 8 ph·ª• t√πng charging) |          | ...  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üîß Technical Implementation

### 1. Service Catalog Added
```javascript
const serviceCatalog = [
  { serviceId: 1, serviceName: "B·∫£o d∆∞·ª°ng ƒë·ªãnh k·ª≥", category: "maintenance" },
  { serviceId: 2, serviceName: "Thay pin lithium-ion", category: "battery" },
  { serviceId: 3, serviceName: "S·ª≠a ch·ªØa h·ªá th·ªëng s·∫°c", category: "charging" },
  { serviceId: 4, serviceName: "Thay motor ƒëi·ªán", category: "motor" },
  { serviceId: 5, serviceName: "Ki·ªÉm tra BMS", category: "electronics" },
  { serviceId: 6, serviceName: "Ki·ªÉm tra h·ªá th·ªëng l√†m m√°t", category: "cooling" },
  { serviceId: 7, serviceName: "B·∫£o d∆∞·ª°ng l√†m m√°t", category: "cooling" },
  { serviceId: 8, serviceName: "C·∫≠p nh·∫≠t ph·∫ßn m·ªÅm", category: "software" }
]
```

### 2. Filter Function
```javascript
const loadPartsForService = async (category) => {
  if (category === 'all') {
    // Load all parts
    const allParts = await staffAPI.getParts()
    setParts(transform(allParts))
  } else {
    // Load filtered parts
    const response = await fetch(
      `http://localhost:8083/api/staff/parts/for-service/${category}`
    )
    const filteredParts = await response.json()
    setParts(transform(filteredParts))
  }
}
```

### 3. UI Component
- **Filter Dropdown:** Blue-themed select box
- **Options:** All services from catalog + "All parts" option
- **Feedback:** Shows count of filtered parts below dropdown

---

## üìä Filter Results

| D·ªãch V·ª•                      | S·ªë Ph·ª• T√πng | Gi·∫£m    |
|------------------------------|-------------|---------|
| T·∫•t c·∫£ (kh√¥ng l·ªçc)           | 24          | -       |
| B·∫£o d∆∞·ª°ng ƒë·ªãnh k·ª≥            | 14          | 42% ‚¨áÔ∏è  |
| Thay pin lithium-ion         | 3           | 88% ‚¨áÔ∏è  |
| S·ª≠a ch·ªØa h·ªá th·ªëng s·∫°c        | 8           | 67% ‚¨áÔ∏è  |
| Thay motor ƒëi·ªán              | 3           | 88% ‚¨áÔ∏è  |
| Ki·ªÉm tra BMS                 | 8           | 67% ‚¨áÔ∏è  |
| B·∫£o d∆∞·ª°ng l√†m m√°t            | 6           | 75% ‚¨áÔ∏è  |
| C·∫≠p nh·∫≠t ph·∫ßn m·ªÅm            | 5           | 79% ‚¨áÔ∏è  |

---

## üéØ Use Cases

### Use Case 1: Staff c·∫ßn t√¨m ph·ª• t√πng cho l·ªãch h·∫πn c·ª• th·ªÉ
**Scenario:**
- Kh√°ch h√†ng ƒë·∫∑t l·ªãch "S·ª≠a ch·ªØa h·ªá th·ªëng s·∫°c"
- Staff c·∫ßn ki·ªÉm tra ph·ª• t√πng c√≥ s·∫µn

**Steps:**
1. V√†o tab Ph·ª• t√πng
2. Ch·ªçn "S·ª≠a ch·ªØa h·ªá th·ªëng s·∫°c"
3. Ch·ªâ th·∫•y 8 ph·ª• t√πng li√™n quan
4. D·ªÖ d√†ng ki·ªÉm tra t·ªìn kho

### Use Case 2: Staff c·∫ßn b√°o gi√° cho kh√°ch
**Scenario:**
- Kh√°ch h·ªèi gi√° d·ªãch v·ª• "Thay pin"
- Staff c·∫ßn xem gi√° ph·ª• t√πng

**Steps:**
1. Ch·ªçn "Thay pin lithium-ion"
2. Th·∫•y 3 lo·∫°i pin
3. B√°o gi√° cho kh√°ch d·ª±a tr√™n t·ªìn kho

### Use Case 3: Staff ki·ªÉm tra t·ªìn kho to√†n b·ªô
**Scenario:**
- Cu·ªëi ng√†y c·∫ßn ki·ªÉm k√™
- C·∫ßn xem t·∫•t c·∫£ ph·ª• t√πng

**Steps:**
1. Ch·ªçn "T·∫•t c·∫£ ph·ª• t√πng (kh√¥ng l·ªçc)"
2. Th·∫•y ƒë·∫ßy ƒë·ªß 24 ph·ª• t√πng
3. Xu·∫•t b√°o c√°o

---

## üöÄ Next Steps (T∆∞∆°ng Lai)

### Phase 2: Advanced Features
- [ ] Auto-select service khi click t·ª´ appointment
- [ ] Highlight low-stock parts trong filtered view
- [ ] Quick add parts to appointment
- [ ] Print filtered parts list

### Phase 3: Smart Recommendations
- [ ] "Kh√°ch h√†ng c≈©ng c·∫ßn" suggestions
- [ ] Seasonal parts recommendations
- [ ] Automatic reorder alerts

---

## üéâ Summary

**‚úÖ ƒê√£ ho√†n th√†nh:**
- Filter ph·ª• t√πng theo 8 d·ªãch v·ª•
- UI ƒë·∫πp v·ªõi feedback r√µ r√†ng
- API integration v·ªõi backend
- Consistent v·ªõi trang Customer

**üéØ K·∫øt qu·∫£:**
- Staff ti·∫øt ki·ªám th·ªùi gian t√¨m ph·ª• t√πng
- Gi·∫£m nh·∫ßm l·∫´n khi ch·ªçn ph·ª• t√πng
- C·∫£i thi·ªán tr·∫£i nghi·ªám l√†m vi·ªác

**üìç Location:**
`frontend/src/pages/Staff.jsx` - Lines 11-21, 68-93, 1175-1200

---

**Created:** 2025-11-03  
**Author:** AI Assistant  
**Status:** ‚úÖ Completed & Tested

